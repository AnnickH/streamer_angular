<div class="row">
  <div class="col xs12">
    <ng-container *ngIf="student">
      <!--ok le form ne sera ingecter dans le dom seulement et si student est pas null -->
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <!-- permet a angular, que la class ou l'objet va se matérialisé ici -->
        <fieldset>
          <!-- Balise fille qui défini des zones -->
          <legend>
            <!-- applique des "groupes" -->
            Student infos
          </legend>
          <div class="row">
            <div class="col xs12">
              <mat-form-field>
                <!-- c'est un selecteur qui affiche proprement le champ de saisie -->
                <input
                  matInput
                  placeholder="Student name..."
                  formControlName="lastName"
                />
                <mat-error
                  *ngIf="c['lastName'].errors && c['lastName'].touched"
                >
                  Lastname is required
                </mat-error>
                <!-- formControlName, liaison entre le champ graphique et le nom utilisé -->
              </mat-form-field>
            </div>

            <div class="col xs12">
              <mat-form-field>
                <input
                  matInput
                  placeholder="Student email..."
                  formControlName="email"
                />
                <mat-error *ngIf="c['email'].errors && c['email'].touched">
                  <span *ngIf="c['email'].hasError('required')"
                    >Email is required</span
                  >
                  <span *ngIf="c['email'].hasError('pattern')">
                    Email doesn't match email pattern</span
                  >
                </mat-error>
              </mat-form-field>
            </div>

            <div class="col xs12">
              <mat-form-field>
                <input
                  matInput
                  placeholder="Student firstname..."
                  formControlName="firstName"
                />
              </mat-form-field>
            </div>

            <div class="col xs12">
              <mat-form-field>
                <input
                  matInput
                  placeholder="Student phonenumber..."
                  formControlName="phoneNumber"
                />
              </mat-form-field>
            </div>
          </div>
        </fieldset>

        <fieldset>
          <legend>Student credentials</legend>
          <div class="row">
            <div class="col xs12 md6">
              <mat-form-field>
                <input
                  matInput
                  placeholder="Student login..."
                  formControlName="login"
                />
                <mat-error *ngIf="c['login'].errors && c['login'].touched">
                  <span *ngIf="c['login'].hasError('required')">
                    Login cannot be empty
                  </span>
                  <span *ngIf="c['login'].hasError('minlength')">
                    Not enough chars (at least 8)
                  </span>
                </mat-error>
              </mat-form-field>
            </div>

            <div class="col xs12 md6">
              <mat-form-field>
                <input
                  matInput
                  type="password"
                  placeholder="Student password..."
                  formControlName="password"
                />
                <mat-error
                  *ngIf="c['password'].errors && c['password'].touched"
                >
                  <span *ngIf="c['password'].hasError('required')">
                    Password cannot be empty
                  </span>
                  <span *ngIf="c['password'].hasError('minlength')">
                    Not enough chars (at least 8)
                  </span>
                  <span *ngIf="c['password'].hasError('pattern')">
                    Password must have upperchar, digit
                  </span>
                </mat-error>
              </mat-form-field>
            </div>
          </div>
        </fieldset>

        <button mat-raised-button color="primary" [disabled]="form.invalid">
          Add
        </button>

        <!-- creation d'un boutton add, mat-raised-button => directive du module MatButtonModule,ça fera un beau bouton avec un effet a l'intérieur. -->
      </form>
      {{ form.value | json }}
    </ng-container>

    <!-- Je veux afficher les valeurs du formulaire au format json -->
  </div>
</div>
